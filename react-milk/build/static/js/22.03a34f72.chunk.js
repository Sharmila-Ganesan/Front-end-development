(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[22],{147:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(13),u=n(20),o=n(15),c=n(14),i=n(0),l=n.n(i),s=n(19),d=n(23),m=n(97),f=n(85),h=n(86),p=n(32),b=n(91),y=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={payout:[],details:[]},a.payout=a.payout.bind(Object(u.a)(a)),a.filterRecord=a.filterRecord.bind(Object(u.a)(a)),a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){Object(f.c)(this.props),Object(f.j)(this.props),this.props.dispatch(Object(m.b)())}},{key:"payout",value:function(e){this.props.dispatch(Object(m.g)(e))}},{key:"filterRecord",value:function(e){var t=this.state,n=t.payout,r=t.details;r=Object(b.c)("role",e.target.value,n),this.setState({details:r})}},{key:"render",value:function(){var e=this,t=this.state.details;return l.a.createElement("div",{className:"container-fluid form-items mt-3  mb-55"},l.a.createElement("div",{className:"col-12"},l.a.createElement("label",{htmlFor:"sortkeyrole"},"Filter By User:"),l.a.createElement("select",{className:"form-control",id:"sortkeyrole",onChange:this.filterRecord},l.a.createElement("option",{key:"",value:""},"All User"),l.a.createElement("option",{key:"salesman",value:"Salesman"},"Salesman"),l.a.createElement("option",{key:"branchmanager",value:"Manager"},"Manager"))),l.a.createElement("h4",null,"Pay Out Details"),t&&t.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"BRANCH"),l.a.createElement("th",null,"RECEIVER"),l.a.createElement("th",null,"ROLE"),l.a.createElement("th",null,"PERIOD"),l.a.createElement("th",null,"AMOUNT"),l.a.createElement("th",null,"ACTION"))),l.a.createElement("tbody",null,t.map((function(t,n){var r,a;return r=t.year,a=t.month-1,t.period=h.a[a].slice(0,3)+"-"+r,l.a.createElement("tr",{key:n},l.a.createElement("td",null,t.branchcode),l.a.createElement("td",null,t.salesmanId?t.salesmanId:t.branchmanager),l.a.createElement("td",null,t.role),l.a.createElement("td",null,t.period),l.a.createElement("td",null,"\u20b9",t.amount),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(n){return e.payout(t)}},"PAY")))}))))):l.a.createElement("div",{className:"no-pending-msg"},"No Payout Details"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){Object(f.h)(e),Object(f.j)(e);var n=e.userData.payment,r=n.payout,a=n.message,u=n.messageCode;return a&&("PO101"===u?(d.b.success(a),e.dispatch(Object(m.b)())):d.b.error(a),e.dispatch(Object(p.c)())),JSON.stringify(r)!==JSON.stringify(t.payout)?{payout:r,details:r}:null}}]),n}(l.a.Component);t.default=Object(s.b)((function(e){return{userData:e}}))(y)},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h}));var r=n(32),a=n(86),u=function(e){return!!((e=e.trim())&&e.length>=3)&&e},o=function(e){return e>0},c=function(e){return!!e},i=function(e,t,n){return!!(e&&e.length>=t&&e.length<=n)},l=function(e){var t=new RegExp("^[6-9][0-9]{9}$");return!(!e||!t.test(e))},s=function(e){var t=new RegExp("^[a-zA-Z0-9_ .]+@[a-zA-Z0-9]+.[a-zA-Z]{2,3}$");return!(!e||!t.test(e))},d=function(e){var t=new RegExp("^[0-9]{1,2}[.][0-9]{5,16}, [0-9]{1,2}[.][0-9]{5,16}$");return!(!e||!t.test(e))},m=function(e){try{if(localStorage.getItem("token"))e.userData.users.token||e.dispatch(Object(r.t)());else e.history.push("/about")}catch(t){}},f=function(e){e.userData.users.token||(localStorage.getItem("token")||e.history.push("/about"))},h=function(e){var t=e.userData.users.userInfo,n=e.match.url,r=[];if(n&&t){var u=n.replace(/\/?\?[a-z=0-9]+/gi,"");if(u=u.replace("/",""),(r=a.b[u])&&r.length>0&&-1!==r.indexOf(t.role))return!0;e.history.push("/home")}}},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return b}));var r={addsale:["salesman"],addwelcome:["salesman"],testsale:["admin"],emptycan:["branchmanager","salesman"],register:["salesman","branchmanager","admin","root"],collectbill:["salesman","branchmanager"],deposit:["salesman","branchmanager"],edit:["branchmanager","admin"],control:["branchmanager","admin","root"],delete:["admin","root"],view:["branchmanager","admin","root"],pending:["branchmanager","admin"],history:["customer","salesman","admin","branchmanager"],home:["customer","salesman","admin","branchmanager","root"],profile:["customer","salesman","admin","branchmanager","root"],statement:["customer","salesman","admin","branchmanager"],pstatement:["customer","salesman","admin","branchmanager"],paybill:["customer","salesman","branchmanager"],generateid:["branchmanager","admin","root"],manageuser:["branchmanager","admin","root"],payout:["admin"],salary:["salesman","branchmanager"],addbranch:["admin"],managebranch:["admin"],viewbranch:["admin"],deletebranch:["admin"],deletesales:["admin"]},a=["January","February","March","April","May","June","July","August","September","October","November","December"],u=40,o=1e3,c=o/u,i=u/o;function l(e){c=(o=1e3)/(u=e),i=u/o}function s(e){if(e&&e<=9999){var t=Math.ceil(e*i);if(t<=499)return t}return""}var d=[{id:"name",title:"Customer Name",type:"text",value:"",default:"",readOnly:!0,placeholder:"Scan QrCode",qrcode:!0},{id:"price",title:"Price",type:"Number",value:"",default:"",placeholder:"Enter price",formula:{destination:"quantity",action:function(e){if(e){var t=Math.ceil(e*c);if(t<=9999)return t}return""}},rules:{required:!0}},{id:"quantity",title:"Quantity(ml)",type:"Number",value:"",default:"",placeholder:"Enter quantity",formula:{destination:"price",action:s},rules:{required:!0}}],m=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type CONFIRM to collect security deposit ",rules:{required:!0}}],f=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type CONFIRM to add Welcome Offer",rules:{required:!0}}],h=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type DELETE to remove user permanently ",rules:{required:!0}}],p=[{id:"name",title:"Customer Name",type:"text",value:"",default:"",readOnly:!0,placeholder:"Scan QrCode",qrcode:!0,rules:{required:!0}}],b=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type Collect to collect bill ",rules:{required:!0}}]},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(26);var a=n(34);function u(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return h}));var r=n(89),a=n(92);function u(e,t){var n=new Date(e),r=""+(n.getMonth()+1),a=""+n.getDate(),u=n.getFullYear(),o=n.getHours(),c=n.getMinutes();return o=o<=9?"0"+o:o,c=c<=9?"0"+c:c,r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),"date"===t?[u,r,a].join("-"):"custom"===t?[a,r,u].join("-"):[a,r,u].join("/")+"-"+[o,c].join(":")}function o(e){if(/[\u0080-\uffff]/.test(e))throw new Error("this needs encoding, like UTF-8");for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return t.buffer}function c(e){var t=new Uint8Array(e.buffer),n=String.fromCharCode.apply(String,t);if(/[\u0080-\uffff]/.test(n))throw new Error("this string seems to contain (still encoded) multibytes");return n}function i(){var e=document.createElement("script");e.async=!0;e.src="https://securegw.paytm.in/merchantpgpui/checkoutjs/merchants/Sivali89602719243261.js",e.type="application/javascript",e.crossOrigin="anonymous",document.head.appendChild(e)}function l(e,t,n){var r=0,a=0,u=[];return e.forEach((function(e){-1!==(e[t]?e[t]+"":"").search(n)&&(u.push(e),r+=parseInt(e.price),a+=parseInt(e.quantity))})),[u,r,a]}function s(e,t){try{var n=e.orderId,r=e.amount,u=e.txnToken,o={root:"",flow:"DEFAULT",merchant:{name:"Sivalingam Milks",logo:a.a},data:{orderId:n,token:u,tokenType:"TXN_TOKEN",amount:r},handler:{notifyMerchant:t}};window.Paytm&&window.Paytm.CheckoutJS&&window.Paytm.CheckoutJS.init(o).then((function(){console.log("Before JS Checkout invoke"),window.Paytm.CheckoutJS.invoke()})).catch((function(e){console.log("Error => ",e)}))}catch(c){return!1}}function d(e,t,n){var r=[];return t?n.forEach((function(n){n[e]+""===t&&r.push(n)})):r=n,r}function m(e,t,n,a,u,o){var c=Object(r.a)(a);return u=[],o&&(o.role&&(c=d("role",o.role,c)),o.branchcode&&(c=d("branchcode",o.branchcode,c))),t&&n&&e?(t=new Date(t).setHours(0,0,0,0),n=new Date(n).setHours(0,0,0,0),c.forEach((function(r){var a=new Date(r[e]).setHours(0,0,0,0);a>=t&&a<=n&&u.push(r)}))):u=c,u}function f(e){try{var t=[];for(var n in e){var r=e[n];t.push({id:n,value:r,type:typeof r,default:r,title:n})}return t}catch(a){return[]}}function h(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}},92:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.ec169ce3.png"},97:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return m}));var r=n(2),a=n(4);function u(e){return Object(a.a)(r.x,"get","payment/unpaid",e,"path")}function o(e){return Object(a.a)(r.s,"get","payment/paid",e,"path")}function c(e){return Object(a.a)(r.H,"post","requestpayment",e)}function i(e){return Object(a.a)(r.F,"put","payment",e)}function l(){return Object(a.a)(r.v,"get","payment/pending")}function s(){return Object(a.a)(r.u,"get","payout")}function d(e){return Object(a.a)(r.G,"post","payout",e)}function m(){return Object(a.a)(r.w,"get","salary")}}}]);