(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[28],{146:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(13),u=n(20),l=n(15),c=n(14),i=n(0),o=n.n(i),s=n(19),m=n(85),d=n(97),f=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={pendingbills:[],details:[]},r.filterRecord=r.filterRecord.bind(Object(u.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){Object(m.c)(this.props),Object(m.j)(this.props),this.props.dispatch(Object(d.c)())}},{key:"filterRecord",value:function(e){var t=this.state,n=t.pendingbills,a=t.details,r=e.target.value;a=[],r?n.forEach((function(e){e.role===r&&a.push(e)})):a=n,this.setState({details:a})}},{key:"render",value:function(){var e=this.state.details,t=this.props.userData.users.userInfo.role,n=0;return o.a.createElement("div",{className:"container-fluid form-items mt-3  mb-55"},o.a.createElement("h4",null,"Unpaid Details"),o.a.createElement("div",{className:"table-container"},o.a.createElement("label",{htmlFor:"sortkeyrole"},"Filter By:"),o.a.createElement("select",{className:"form-control",id:"sortkeyrole",onChange:this.filterRecord},o.a.createElement("option",{key:"",value:""}," All User"),o.a.createElement("option",{key:"salesman",value:"salesman"}," Salesman"),o.a.createElement("option",{key:"customer",value:"customer"}," Customer"),t&&"admin"===t&&o.a.createElement("option",{key:"branchmanager",value:"branchmanager"}," Branch Manager")),e&&e.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"NAME"),o.a.createElement("th",null,"MOBILE"),o.a.createElement("th",null,"TYPE"),o.a.createElement("th",{className:"text-center"},"AMOUNT"))),o.a.createElement("tbody",null,e.map((function(e){return n+=e.amount,o.a.createElement("tr",{key:e.userId},o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.userId),o.a.createElement("td",null,e.role),o.a.createElement("td",{className:"text-center"},e.amount))})))),n>0?o.a.createElement("div",{className:"col-12 text-center mt-2"},o.a.createElement("h6",{className:"text-primary"},"Pending Total Amount: "," ",o.a.createElement("span",null,"\u20b9 ")," ",n)):""):o.a.createElement("div",{className:"row text-center m-0 "},"No Un Paid Items Found")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){Object(m.h)(e),Object(m.j)(e);var n=e.userData.payment.pendingbills;return n&&JSON.stringify(t.pendingbills)!==JSON.stringify(n)?{pendingbills:n,details:n}:null}}]),n}(o.a.Component);t.default=Object(s.b)((function(e){return{userData:e}}))(f)},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p}));var a=n(32),r=n(86),u=function(e){return!!((e=e.trim())&&e.length>=3)&&e},l=function(e){return e>0},c=function(e){return!!e},i=function(e,t,n){return!!(e&&e.length>=t&&e.length<=n)},o=function(e){var t=new RegExp("^[6-9][0-9]{9}$");return!(!e||!t.test(e))},s=function(e){var t=new RegExp("^[a-zA-Z0-9_ .]+@[a-zA-Z0-9]+.[a-zA-Z]{2,3}$");return!(!e||!t.test(e))},m=function(e){var t=new RegExp("^[0-9]{1,2}[.][0-9]{5,16}, [0-9]{1,2}[.][0-9]{5,16}$");return!(!e||!t.test(e))},d=function(e){try{if(localStorage.getItem("token"))e.userData.users.token||e.dispatch(Object(a.t)());else e.history.push("/about")}catch(t){}},f=function(e){e.userData.users.token||(localStorage.getItem("token")||e.history.push("/about"))},p=function(e){var t=e.userData.users.userInfo,n=e.match.url,a=[];if(n&&t){var u=n.replace(/\/?\?[a-z=0-9]+/gi,"");if(u=u.replace("/",""),(a=r.b[u])&&a.length>0&&-1!==a.indexOf(t.role))return!0;e.history.push("/home")}}},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return b}));var a={addsale:["salesman"],addwelcome:["salesman"],testsale:["admin"],emptycan:["branchmanager","salesman"],register:["salesman","branchmanager","admin","root"],collectbill:["salesman","branchmanager"],deposit:["salesman","branchmanager"],edit:["branchmanager","admin"],control:["branchmanager","admin","root"],delete:["admin","root"],view:["branchmanager","admin","root"],pending:["branchmanager","admin"],history:["customer","salesman","admin","branchmanager"],home:["customer","salesman","admin","branchmanager","root"],profile:["customer","salesman","admin","branchmanager","root"],statement:["customer","salesman","admin","branchmanager"],pstatement:["customer","salesman","admin","branchmanager"],paybill:["customer","salesman","branchmanager"],generateid:["branchmanager","admin","root"],manageuser:["branchmanager","admin","root"],payout:["admin"],salary:["salesman","branchmanager"],addbranch:["admin"],managebranch:["admin"],viewbranch:["admin"],deletebranch:["admin"],deletesales:["admin"]},r=["January","February","March","April","May","June","July","August","September","October","November","December"],u=40,l=1e3,c=l/u,i=u/l;function o(e){c=(l=1e3)/(u=e),i=u/l}function s(e){if(e&&e<=9999){var t=Math.ceil(e*i);if(t<=499)return t}return""}var m=[{id:"name",title:"Customer Name",type:"text",value:"",default:"",readOnly:!0,placeholder:"Scan QrCode",qrcode:!0},{id:"price",title:"Price",type:"Number",value:"",default:"",placeholder:"Enter price",formula:{destination:"quantity",action:function(e){if(e){var t=Math.ceil(e*c);if(t<=9999)return t}return""}},rules:{required:!0}},{id:"quantity",title:"Quantity(ml)",type:"Number",value:"",default:"",placeholder:"Enter quantity",formula:{destination:"price",action:s},rules:{required:!0}}],d=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type CONFIRM to collect security deposit ",rules:{required:!0}}],f=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type CONFIRM to add Welcome Offer",rules:{required:!0}}],p=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type DELETE to remove user permanently ",rules:{required:!0}}],h=[{id:"name",title:"Customer Name",type:"text",value:"",default:"",readOnly:!0,placeholder:"Scan QrCode",qrcode:!0,rules:{required:!0}}],b=[{id:"confirm",title:"Consent",type:"text",value:"",default:"",placeholder:"Type Collect to collect bill ",rules:{required:!0}}]},97:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return d}));var a=n(2),r=n(4);function u(e){return Object(r.a)(a.x,"get","payment/unpaid",e,"path")}function l(e){return Object(r.a)(a.s,"get","payment/paid",e,"path")}function c(e){return Object(r.a)(a.H,"post","requestpayment",e)}function i(e){return Object(r.a)(a.F,"put","payment",e)}function o(){return Object(r.a)(a.v,"get","payment/pending")}function s(){return Object(r.a)(a.u,"get","payout")}function m(e){return Object(r.a)(a.G,"post","payout",e)}function d(){return Object(r.a)(a.w,"get","salary")}}}]);